<!DOCTYPE html>
<html id="J-html" class="">
<head>
    <meta charset="UTF-8" />
    <title>
        
            使用SpringData简化项目开发
        
    </title>
    <meta name="generator" content="Jekyll" />
    <meta name="author" content="PIZn" />
    <meta name="description" content="SpringData简化项目开发" />
    <meta name="keywords" content="java" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" type="text/css" media="all" href="http://pp1230.github.io/static/style.css" />
    <!--[if lt IE 9]>
    <script src="http://pp1230.github.io/static/js/html5.js" type="text/javascript"></script>
    <![endif]-->
    <script src="http://pp1230.github.io/static/js/jquery.js" type="text/javascript"></script>
</head>
<body itemscope itemtype="http://schema.org/WebPage" class="home blog lotus index">
    <nav class="lotus-nav">
        <ul>
            
            
            
            
            
                
            
            <li class="home ">
                <a href="/index.html" rel="bookmark" title="首页">
                    <i class="icon-home"></i>
                </a>
                
            </li>
            
            
            
            
            
            <li class="">
                <a href="/archives.html" rel="bookmark" title="文章归档">
                    <i class="icon-reorder"></i>
                </a>
                
            </li>
            
            
            
            
            
            <li class="">
                <a href="/contact.html" rel="bookmark" title="关于我">
                    <i class="icon-envelope-alt"></i>
                </a>
                
            </li>
            
            
            
            
            
            <li class="">
                <a href="http://github.com/qq472220372" rel="bookmark" title="联系我">
                    <i class="icon-heart"></i>
                </a>
                
            </li>
            
            
            
            
            
            <li class="">
                <a href="/resource.html" rel="bookmark" title="资源">
                    <i class="icon-github"></i>
                </a>
                
            </li>
            
        </ul>
    </nav>

    <h1 id="springdata">使用SpringData简化项目开发</h1>

<h2 id="springdatajpa">1.SpringData和Jpa需要的包</h2>

<ul>
  <li>加入SpringData前需要加入Jpa-Hibernate的包，实现基础功能</li>
</ul>

<p><img src="../../../static/images/jpa.png" alt="jpa" /></p>

<ul>
  <li>然后加入Sprng的包</li>
</ul>

<p><img src="../../../static/images/springdata.png" alt="springdata" /></p>

<h2 id="springdata-1">2.SpringData配置</h2>

<p>SpringData需要在<code>applicationContext.xml</code>中进行配置</p>

<ul>
  <li>
    <p>配置 JPA 的 EntityManagerFactory</p>

    <pre><code> &lt;bean id="entityManagerFactory"
 class="org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean"&gt;
 &lt;property name="dataSource" ref="dataSource"&gt;&lt;/property&gt;
 &lt;property name="jpaVendorAdapter"&gt;
     &lt;bean class="org.springframework.orm.jpa.vendor.HibernateJpaVendorAdapter"&gt;&lt;/bean&gt;
 &lt;/property&gt;	
 &lt;property name="packagesToScan" value="com.bcts.platform"&gt;&lt;/property&gt;
 &lt;property name="jpaProperties"&gt;
     &lt;props&gt;
         &lt;prop key="hibernate.ejb.naming_strategy"&gt;org.hibernate.cfg.ImprovedNamingStrategy&lt;/prop&gt;
         &lt;prop key="hibernate.hbm2ddl.auto"&gt;update&lt;/prop&gt;
         &lt;prop key="hibernate.show_sql"&gt;true&lt;/prop&gt;
         &lt;prop key="hibernate.format_sql"&gt;true&lt;/prop&gt;
         &lt;prop key="hibernate.dialect"&gt;org.hibernate.dialect.PostgreSQLDialect&lt;/prop&gt;				
         &lt;prop key="hibernate.cache.use_second_level_cache"&gt;true&lt;/prop&gt;
         &lt;prop key="hibernate.cache.region.factory_class"&gt;org.hibernate.cache.ehcache.EhCacheRegionFactory&lt;/prop&gt;
         &lt;prop key="hibernate.cache.use_query_cache"&gt;true&lt;/prop&gt;
     &lt;/props&gt;
 &lt;/property&gt;
 &lt;property name="sharedCacheMode" value="ENABLE_SELECTIVE"&gt;&lt;/property&gt;
 	&lt;/bean&gt;
</code></pre>
  </li>
  <li>
    <p>配置 SpringData</p>

    <pre><code>  &lt;jpa:repositories base-package="com.bcts.platform"
  entity-manager-factory-ref="entityManagerFactory"&gt;&lt;/jpa:repositories&gt;
</code></pre>
  </li>
</ul>

<h2 id="springdata-2">3.SpringData的使用</h2>

<p>继承<code>JpaRepository</code>接口，可以自动实现多种方法</p>

<pre><code>public interface BaseClassRepository extends JpaRepository&lt;BaseClass, String&gt; {

}
</code></pre>

<p><img src="../../../static/images/jpaRep.png" alt="jpaRep" /></p>


<footer class="lotus-footer">
	<p>Copyright © 2010–2015 PHY的博客 All rights reserved. Design by <a href="https://github.com/qq472220372" target="_blank">phy</a>.</p>
</footer>
<script src="http://pp1230.github.io/static/js/jquery.scrollTo.js" type="text/javascript"></script>
<script src="http://pp1230.github.io/static/js/iLotus.js" type="text/javascript"></script>
</body>
</html>
